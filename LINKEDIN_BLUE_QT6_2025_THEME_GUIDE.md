# LinkedIn Blue Qt6 2025 – Complete Theme & UX Specification

> Version 1.0 · 2025-06-20  
> Author: PST to Dynamics 365 Engineering Team  
> Source of truth: PSTtoDynamics GUI (v1.0.1, commit HEAD)

---

## 0 · Purpose & Scope

This document captures **every single visual, behavioural, and structural decision** present in the PST to Dynamics 365 application as of June 2025.  Copy these rules verbatim to reproduce the **exact** "LinkedIn Blue Qt6 2025" look-and-feel in any other PyQt6 / C++ Qt6 project, whether generated by an AI code tool or handcrafted by a designer.  No detail is too small; if it's here, it is **mandatory**.

*All dimensions are in CSS-style pixels (device-independent).  All fonts assume Segoe UI on Windows; substitute your platform's default humanist sans-serif otherwise.*

---

## 1 · Colour System

| Token | Hex | Use-cases |
|-------|-----|-----------|
| `brand.primary` | `#0077B5` | Header fills, active tab background, primary buttons, metric highlights |
| `brand.primaryHover` | `#005885` | Primary-button hover, in-range gradients, dark border accents |
| `brand.primaryActive` | `#004A70` | Primary-button pressed, active gradient stop |
| `ui.surface` | `#FFFFFF` | Card & GroupBox background |
| `ui.surfaceAlt` | `#F9FAFB` | Tab background, secondary buttons |
| `ui.canvas` | `#F3F6F8` | QTabWidget ::pane, app window background |
| `ui.border` | `#D0D7DE` | Secondary 1 px borders (tables, inputs) |
| `ui.divider` | `#DEE2E6` | Horizontal lines, card separators |
| `text.primary` | `#2C3E50` | Main body text |
| `text.secondary` | `#666666` | Labels, tab inactive text |
| `text.inverse` | `#FFFFFF` | Text on brand surfaces |
| `text.link` | `#0077B5` (underline) | Hyperlinks |
| `state.success` | `#28A745` | Success banners, positive metrics |
| `state.warning` | `#F59E0B` | Warning indicators |
| `state.error` | `#C0392B` | Error banners |
| `state.info` | `#3B82F6` | Informational notifications |
| `state.successAlt` | `#10B981` | Notification pop-ups, positive accents |
| `state.errorAlt` | `#EF4444` | Notification pop-ups (error) |
| `brand.secondary` | `#005885` | Secondary brand shade, nav selection, hover states |
| `brand.accent` | `#00A0DC` | Accent badges, subtle highlights |
| `ui.shadow` | `rgba(0,119,181,0.15)` | Card & pop-up drop-shadows |
| `ui.focus` | `#0077B5` | Focus borders on inputs & combo boxes |
| `ui.disabled` | `#CCCCCC` | Disabled button background / muted controls |
| `text.muted` | `#999999` | Helper text, de-emphasised captions |
| `text.tertiary` | `#7F8C8D` | Subtle placeholders, secondary paragraphs |
| `ui.surfaceHover` | `#ECF0F1` | Navigation hover & soft backgrounds |
| `ui.gridline` | `#F0F0F0` | Table row separators, light dividers |
| `ui.disabledDark` | `#95A5A6` | Disabled button background (grey) |
| `border.light` | `#E8EBED` | Lightweight row separators, hover outlines |
| `text.dim` | `#6C757D` | Checkbox & description text |
| `ui.surfaceHoverLight` | `#E9ECEF` | Spin-box button hover, subtle backgrounds |
| `border.muted` | `#BDC3C7` | Low-emphasis borders (checkbox, spin box) |
| `ui.surfaceHoverAlt` | `#E8F4FD` | Light blue hover for selected table rows |
| `state.errorButton` | `#E74C3C` | Danger buttons default |
| `text.dark` | `#34495E` | Secondary dark headings |
| `text.neutral` | `#495057` | Input placeholder & muted dark text |
| `border.gridlineAlt` | `#E1E4E8` | Alternative gridlines (Sync Monitor table) |
| `section.infoBorder` | `#17A2B8` | ImportWizard info card border |
| `section.infoBg` | `#E7F8FF` | ImportWizard info card background |
| `text.infoDark` | `#0C5460` | Info text on cyan background |
| `section.successBg` | `#D4EDDA` | ImportWizard success background |
| `text.successDark` | `#155724` | Success text on green background |
| `section.warningBorder` | `#E67E22` | Section warning border (processing) |
| `section.warningBg` | `#FEF9E7` | Section warning background |
| `text.warningDark` | `#D68910` | Warning text on yellow background |
| `section.errorBorder` | `#DC3545` | Error card border |
| `section.errorBg` | `#F8D7DA` | Error card background |
| `text.errorDark` | `#721C24` | Dark red text for errors |
| `section.aiBorder` | `#8E44AD` | AI settings section border |
| `section.aiBg` | `#FAF9FF` | AI settings background |
| `text.aiPurple` | `#6C3483` | AI section title colour |
| `state.successHover` | `#229954` | Hover shade for success buttons |
| `text.successDeep` | `#196F3D` | Dark green headings on success sections |
| `ui.buttonDark` | `#5A6268` | Dark-grey button base (disabled hover) |
| `ui.buttonDarker` | `#545B62` | Dark-grey button pressed |
| `legacy.success` | `#2ECC71` | Pre-conversion success green (legacy) |
| `brand.primaryBorder` | `#006097` | 1 px bottom border under headers |
| `brand.primaryHoverAlt` | `#004471` | Extra-dark hover shade (scrollbar handle, hover outlines) |
| `ui.surfaceLight` | `#F8F9FA` | Very light surface (footer, form backgrounds) |
| `state.successButton` | `#27AE60` | Primary success button background |
| `section.successBgAlt` | `#E8F8F5` | Light teal-green backgrounds (checkbox groups) |
| `text.black` | `#000000` | Absolute black text (metric card values, default palette) |

### Gradient Guidelines

```css
/* Standard header gradient (light UI themes) */
background: qlineargradient(x1:0, y1:0, x2:1, y2:0,
                            stop:0 #667EEA, stop:1 #764BA2);
```
Use only for decorative tag badges (rare).  All major headers are solid `brand.primary`.

### 4.25 Misc Gradients

Import Wizard decorative gradients:
```css
/* Blue→darker Blue */
background: qlineargradient(x1:0, y1:0, x2:1, y2:0, stop:0 #0077B5, stop:1 #005885);
/* LightBlue→Primary */
background: qlineargradient(x1:0, y1:0, x2:1, y2:0, stop:0 #E8F4FD, stop:1 #0077B5);
/* Hover Darkening */
background: qlineargradient(x1:0, y1:0, x2:1, y2:0, stop:0 #005885, stop:1 #004A70);
```
These are restricted to Import Wizard banners and should not be reused elsewhere.

---

## 2 · Typography

| Hierarchy | Font family | Weight | Size | Line-height | Example |
|-----------|-------------|--------|------|--------------|---------|
| H1 (Panel Header) | Segoe UI | Bold | **18 px** | 24 px | "Analytics" |
| H2 (Card Title) | Segoe UI | Bold | **14 px** | 20 px | "Processing Speed" |
| Body | Segoe UI | Regular | **14 px** | 20 px | Standard paragraph |
| Label / Caption | Segoe UI | SemiBold | **12 px** | 16 px | Table header |
| Fine-print | Segoe UI | Regular | **10 px** | 14 px | "Last updated …" |
| Metric Value Large | Segoe UI | Bold | **24 px** | 32 px | "98 %" card |
| Metric Value Medium | Segoe UI | Bold | **20 px** | 26 px | "123" sync count |

All numeric metric values must **align on their last digit** (set `{ alignment: Qt.AlignRight|Qt.AlignVCenter; }`).

### Font Family Hierarchy

Primary stack: `"Segoe UI", Arial, sans-serif`  
Code/monospace: `"Consolas", monospace` (log areas, code displays)  
Icon text (SVG): `Arial, sans-serif` (application icon text)

### Line Heights

| Context | Line-height | Usage |
|---------|-------------|-------|
| Dense text | 1.4 | Checkbox descriptions, log areas |
| Standard | 1.6 | Tips, instructions, form help text |
| Loose | 1.8 | File information displays |

### Text Alignment

| Component | Alignment | Implementation |
|-----------|-----------|----------------|
| Panel headers | Center | `setAlignment(Qt.AlignmentFlag.AlignCenter)` |
| Metric values | Center | `setAlignment(Qt.AlignmentFlag.AlignCenter)` |
| Form labels | Right+VCenter | `setAlignment(Qt.AlignmentFlag.AlignRight \| Qt.AlignmentFlag.AlignVCenter)` |
| Navigation buttons | Left | `text-align: left` in CSS |
| Progress bars | Center | `text-align: center` in CSS |

### Word Wrapping

Enable `setWordWrap(True)` for:
• Long descriptions (Import Wizard steps)  
• Help/instruction text  
• Error messages  
• Tooltips (max-width: 300 px)  
• Configuration explanations  

Never wrap: metric values, labels, button text, table headers.

---

## 3 · Spacing & Layout Tokens

| Token | Pixels | Where used |
|-------|--------|------------|
| `space.0` | 0 | Reset margins on container layouts |
| `space.1` | 4 | Micro-gaps inside complex widgets |
| `space.2` | 8 | Small widget padding (icon-label rows) |
| `space.3` | 12 | Minor layout spacing (inner v-box gaps) |
| `space.4` | 16 | Card internal spacing – *legacy* (only AI dash) |
| `space.5` | 20 | **Canonical content spacing** & outer card padding |
| `space.8` | 32 | Special indent (e.g. ImportWizard step bullets) |

### Layout Macros

* Panel root `QVBoxLayout` – `setContentsMargins(space.0)` & `setSpacing(space.0)`.
* Header → Content → (optional) Footer always stacked vertical.
* Content wrapper (`QWidget` inside root) – `setContentsMargins(space.5)` & `setSpacing(space.5)`.
* Metric grids use `QGridLayout` `setSpacing(space.5)` & internal card padding `space.5`.

---

## 4 · Core Components

### 4.1 Header Bar

```python
header = QWidget()
header.setFixedHeight(60)
header.setStyleSheet(f"""
    background-color: {brand.primary};
    border-bottom: 1px solid #006097;
""")
layout = QHBoxLayout(header)
layout.setContentsMargins(20, 0, 20, 0)
```
Place title `QLabel` (H1 spec) on left, stretch, optional quick-action buttons on right.

### 4.2 Footer Bar (80 px Standard)  — *Adopted from Import Wizard / Fixed Settings*

| Decision | Value |
|----------|-------|
| Widget class | **`QFrame`** (`Shape.NoFrame`) |
| Height | Fixed 80 px (no min/max duplication) |
| StyleSheet | `background: #F8F9FA; border-top: 1px solid #DEE2E6;` |
| Layout | `QHBoxLayout`, margins `(20,15,20,15)`, spacing `space.3` |
| Button order | Secondary ← Stretch → Primary (right-aligned) |

Buttons inside footers inherit **Primary Button** style (see 4.3).  Never manage footer height in `resizeEvent`; fixed size alone suffices.

### 4.3 Buttons

```css
QPushButton {
    background-color: #0077B5;
    color: #FFFFFF;
    border: 2px solid #0077B5;
    border-radius: 8px;
    padding: 10px 20px;      /* 20 = space.5 x-axis */
    font-size: 14px;
    font-weight: bold;
}
QPushButton:hover   { background-color: #005885; }
QPushButton:pressed { background-color: #004A70; }
QPushButton:disabled { background-color: #CCCCCC; color: #999999; border-color: #CCCCCC; }
```
*Secondary* buttons use `background: ui.surfaceAlt; color: brand.primary; border: 2px solid brand.primary;`.

*Success* buttons (e.g. "Start Import"):
```css
QPushButton {
    background-color: #27AE60;            /* state.success alt */
    color: #FFFFFF;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: bold;
}
QPushButton:hover   { background-color: #229954; }
QPushButton:disabled { background-color: #95A5A6; }
```
*Danger* buttons (e.g. "Stop Import"):
```css
QPushButton {
    background-color: #E74C3C;            /* state.error alt */
    color: #FFFFFF;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-size: 14px;
    font-weight: bold;
}
QPushButton:hover   { background-color: #C0392B; }
QPushButton:disabled { background-color: #95A5A6; }
```

### 4.4 Tab Widget

```css
QTabWidget::pane {
    border: none;
    background-color: #F3F6F8;
}
QTabBar::tab {
    background-color: #F9FAFB;
    color: #666666;
    padding: 12px 24px;
    margin-right: 2px;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    font-size: 14px;
    font-weight: bold;
}
QTabBar::tab:hover    { background-color: #E8EBED; color: #0077B5; }
QTabBar::tab:selected { background-color: #0077B5; color: #FFFFFF; }
```
Tab bar should sit **inside** the padded content wrapper so the pane aligns with other cards.

### 4.5 GroupBox (Card Shell)

```css
QGroupBox {
    font-weight: bold;
    border: 2px solid #0077B5 !important;   /* emphasised */
    border-radius: 8px;
    margin-top: 0px;       /* removes Qt default gap */
    padding-top: 15px;     /* pushes title away from content */
    font-size: 14px;
    background-color: #FFFFFF;
}
QGroupBox::title {
    subcontrol-origin: margin;
    left: 15px;
    padding: 0 10px 0 10px;
    color: #0077B5;
    background: #FFFFFF;
}
```
Use `QGridLayout` / `QVBoxLayout` inside with `setContentsMargins(space.5)`.

### 4.6 Metric Card (Analytics & AI dashboards)

| Attribute | Spec |
|-----------|------|
| Wrapper | `QFrame` (`Shape.StyledPanel`), `border: 2px solid brand.primary`, `border-radius: 8px`, `background: ui.surfaceAlt` |
| Internal layout | `QVBoxLayout`, `margins(space.5)`, `spacing(space.2)` |
| Title | H2 (14 px bold, colour brand.primary) |
| Value | **24 px** bold, colour `#000000` or brand.primary (analytics) |
| Subtitle | 10 px, text.secondary |
| Hover | Darken border via `darken_color()` util (primary→primaryHover) |

### 4.7 Tables / QTableWidget

* Header row: 12 px semi-bold, background ui.surfaceAlt, bottom-border ui.border.
* Row height: 28 px, alternate rows ui.surfaceAlt.
* Selected row: background brand.primary, text text.inverse.

### 4.8 Scroll Areas

Always apply
```python
scroll.setStyleSheet("QScrollArea { border: none; background: transparent; }")
```
Add a 1 px `ui.border` top divider *inside* scroll if it butt-joins header.

### 4.9 Navigation Sidebar

| Attribute | Spec |
|-----------|------|
| Container | `QFrame` with `objectName="NavigationSidebar"`, **fixed width 200 px** |
| Style | `background: ui.surface; border-right: 1px solid ui.border; border-radius: 8px` |
| Internal layout | `QVBoxLayout`, margins `(10,15,10,10)`, spacing `space.1` |
| Navigation Button | 50 px height, medium-weight Segoe UI 10 pt, icon + title text-aligned left |
| Normal State | **transparent** background, `text.primary` colour |
| Hover | Background `#ECF0F1`, text unchanged |
| Pressed | Background `#D5DBDB` |
| Selected | Background `brand.primary`, text `text.inverse`, hover → `brand.primaryHover`, pressed → `brand.primaryActive` |

### 4.10 Input Fields & Forms

```css
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: #FFFFFF;            /* ui.surface */
    color: #2C3E50;                       /* text.primary */
    border: 1px solid #D0D7DE;            /* ui.border */
    border-radius: 4px;
    padding: 8px;                         /* space.2 */
    font-size: 14px;
}
QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: #0077B5;                /* ui.focus / brand.primary */
    outline: none;
}
```

### 4.11 Scroll Bars

```css
/* Vertical */
QScrollBar:vertical {
    background: #F9FAFB;                  /* ui.surfaceAlt */
    width: 12px;
    border-radius: 6px;
}
QScrollBar::handle:vertical {
    background: #666666;                  /* text.secondary */
    min-height: 20px;
    border-radius: 6px;
}
QScrollBar::handle:vertical:hover { background: #0077B5; }
/* Horizontal (mirrors vertical) */
QScrollBar:horizontal { height: 12px; background: #F9FAFB; border-radius: 6px; }
QScrollBar::handle:horizontal { background: #666666; min-width: 20px; border-radius: 6px; }
QScrollBar::handle:horizontal:hover { background: #0077B5; }
```

### 4.12 Progress Bars

```css
QProgressBar {
    background: #F9FAFB;                  /* ui.surfaceAlt */
    border: 1px solid #D0D7DE;            /* ui.border */
    border-radius: 4px;
    text-align: center;
}
/* Default (brand blue) */
QProgressBar::chunk {
    background: #0077B5;                  /* brand.primary */
    border-radius: 4px;
}
/* Success variant (ImportWizard) */
QProgressBar.Success::chunk { background: #27AE60; }
/* Error variant (failed steps) */
QProgressBar.Error::chunk   { background: #E74C3C; }
```

### 4.13 Combo Boxes

```css
QComboBox {
    background: #FFFFFF;                  /* ui.surface */
    border: 1px solid #D0D7DE;
    border-radius: 4px;
    padding: 8px;
}
QComboBox:focus { border-color: #0077B5; }
QComboBox::drop-down { border: none; }
QComboBox::down-arrow {
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 5px solid #666666;        /* text.secondary */
}
```

### 4.14 Menu & Tool Bars

*Menu Bar*
```css
QMenuBar {
    background-color: #FFFFFF;                  /* ui.surface */
    color: #2C3E50;                       /* text.primary */
    border-bottom: 1px solid #D0D7DE;     /* ui.border */
}
QMenuBar::item { padding: 8px 16px; }
QMenuBar::item:selected {
    background-color: #0077B5;
    color: #FFFFFF;
}
```
*Tool Bar*
```css
QToolBar {
    background: #FFFFFF;
    border: none;
    spacing: 8px;
}
QToolButton {
    background: transparent;
    color: #2C3E50;
    border: none;
    padding: 8px;
}
QToolButton:hover {
    background: #0077B5;
    color: #FFFFFF;
}
```

### 4.15 Status Bar

```css
QStatusBar {
    background: #FFFFFF;                  /* ui.surface */
    color: #666666;                       /* text.secondary */
    border-top: 1px solid #D0D7DE;        /* ui.border */
}
```

### 4.16 Tables (Detailed)

```css
QTableWidget, QTableView {
    background-color: #FFFFFF;             /* ui.surface */
    alternate-background-color: #F9FAFB;   /* ui.surfaceAlt */
    color: #666666;                        /* text.secondary */
    border: 1px solid #D0D7DE;             /* ui.border */
    border-radius: 8px;
    gridline-color: #F0F0F0;               /* border.light-ish */
}
QTableWidget::item, QTableView::item {
    padding: 8px;
    border-bottom: 1px solid #F0F0F0;
}
QTableWidget::item:selected, QTableView::item:selected {
    background-color: #0077B5;             /* brand.primary */
    color: #FFFFFF;                        /* text.inverse */
}
QTableWidget::item:hover, QTableView::item:hover {
    background-color: #E8F4FD;             /* light blue hover */
    color: #0077B5;
}
QHeaderView::section {
    background-color: #0077B5;             /* brand.primary */
    color: #FFFFFF;
    padding: 8px;
    border: none;
    font-weight: bold;
}
QHeaderView::section:hover {
    background-color: #005885;             /* brand.primaryHover */
}
```

### 4.17 Tree Widgets

```css
QTreeWidget {
    border: 1px solid #D0D7DE;
    border-radius: 8px;
    background: #FFFFFF;
    alternate-background-color: #F9FAFB;
    color: #666666;
}
QTreeWidget::item {
    padding: 8px;
    border-bottom: 1px solid #F0F0F0;
}
QTreeWidget::item:selected {
    background-color: #0077B5;
    color: #FFFFFF;
}
QTreeWidget::item:hover {
    background-color: #E8F4FD;
    color: #0077B5;
}
```

### 4.18 Check Boxes

```css
QCheckBox {
    font-size: 13px;
    color: #2C3E50;                        /* text.primary */
    font-weight: 600;
    spacing: 12px;
}
QCheckBox::indicator {
    width: 20px; height: 20px;
    border-radius: 4px;
    border: 2px solid #BDC3C7;
    background-color: #FFFFFF;
}
QCheckBox::indicator:checked {
    background-color: #0077B5;             /* brand.primary */
    border-color: #0077B5;
    image: url(data:image/svg+xml;base64, ... );  /* white tick */
}
QCheckBox::indicator:hover { border-color: #0077B5; }
```

### 4.19 Spin Boxes

```css
QSpinBox {
    border: 2px solid #BDC3C7;
    border-radius: 6px;
    padding-right: 20px;  /* leave room for arrows */
    padding-left: 10px;
}
QSpinBox:focus { border-color: #E67E22; }
QSpinBox::up-button, QSpinBox::down-button {
    subcontrol-origin: border;
    background: #F8F9FA;
    width: 20px;
    border-left: 1px solid #BDC3C7;
}
QSpinBox::up-button { subcontrol-position: top right; border-top-right-radius: 6px; height: 21px; }
QSpinBox::down-button { subcontrol-position: bottom right; border-bottom-right-radius: 6px; height: 20px; }
QSpinBox::up-button:hover, QSpinBox::down-button:hover { background: #E9ECEF; }
/* inline SVG arrows use #6C757D */
```

### 4.20 Log / Code Areas (QTextEdit)

```css
QTextEdit {
    background-color: #2C3E50;             /* dark canvas for logs */
    color: #ECF0F1;
    border: none;
    border-radius: 6px;
    padding: 10px;
    font-family: Consolas, monospace;
    font-size: 10px;
    line-height: 1.4;
}
```

### 4.21 Tooltips (Enhanced)

```css
QLabel.Tooltip {
    background: rgba(45, 55, 72, 0.95);
    color: #FFFFFF;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    padding: 12px 16px;
    font-family: "Segoe UI";
    font-size: 13px;
    font-weight: 500;
    max-width: 300px;
}
```
Tooltips animate with a **200 ms** fade-in and cast a 20 px blur drop-shadow `(0,5,blur=20, alpha=100)`.

### 4.22 Notification Pop-ups

| Type | Background (90 % opacity) | Border | Example |
|------|---------------------------|--------|---------|
| Info | `rgba(59,130,246,0.9)` | `1px solid rgba(96,165,250,0.5)` | Blue |
| Success | `rgba(16,185,129,0.9)` | `1px solid rgba(52,211,153,0.5)` | Green |
| Warning | `rgba(245,158,11,0.9)` | `1px solid rgba(251,191,36,0.5)` | Amber |
| Error | `rgba(239,68,68,0.9)` | `1px solid rgba(248,113,113,0.5)` | Red |

Pop-ups are 350 px wide, 12 px border-radius, white text, 16-12-16-12 internal padding, and stack downwards from top-right with 10 px vertical spacing. Appearance animation: slide-in from +100 px X and fade-in (400 ms, OutBack easing). Close/fade variant uses reverse animation (300 ms, InQuart).

Action buttons inside pop-ups inherit the pop-up colour (`background: typeColor`, radius 6 px, 6×12 px padding, bold 12 px font). Close "×" button is 24×24, transparent background, 18 px font, hover tint `rgba(255,255,255,0.1)`.

### 4.23 Keyboard Focus Indicator

When keyboard navigation is active, the current widget receives an overlaid `QFrame` border:
```css
QFrame.FocusIndicator {
    border: 3px solid #3B82F6;            /* vivid blue */
    border-radius: 8px;
    background: transparent;
}
```
The frame sits 4 px outside widget bounds and follows focus changes in real time.

### 4.24 Splitters

```css
QSplitter::handle {
    background-color: #BDC3C7;             /* border.muted */
    width: 3px;
}
```
Use vertical splitters in dashboards (e.g. Contact Management) with this handle; never set explicit colors elsewhere to ensure consistency.

---

## 5 · Behavioural Practices

1. **No inline fixed widths** – rely on layouts & stretches so theme adapts.
2. **Single source of truth** – define colours via constants/module; never hard-code duplicates.
3. **Footer integrity** – never replicate the earlier Settings-panel bug.  Do **not** manage footer geometry in `resizeEvent`.
4. **Snapshot tests** – maintain PyTest-Qt snapshot suite; fail CI on diff.

---

## 6 · Implementation Snippet

```python
from PyQt6.QtWidgets import QApplication
from linkedin_blue_theme_2025 import ThemeManager   # your encapsulation

app = QApplication(sys.argv)
ThemeManager.apply_global_palette(app)  # sets QPalette plus QStyleSheet
...
```
`ThemeManager` exposes helpers: `button_primary()`, `groupbox_card()`, `build_header(title)`, `build_footer(buttons)` etc.  Internally it injects the style-sheet rules above.

---

## 7 · Checklist Before Shipping

- [ ] All headers exactly 60 px high, edges flush.
- [ ] Each content wrapper margins = 20 px; spacing = 20 px.
- [ ] Footer present, 80 px high, buttons right-aligned, never clipped.
- [ ] Tab bars follow spec; **no rogue borders**.
- [ ] Snapshot tests green (`pytest`).
- [ ] Light-/dark variation (optional) still respects colour tokens.

---

## 8 · Layout & Sizing Specifications

### Size Policies

| Component | Horizontal | Vertical | Usage |
|-----------|------------|----------|-------|
| Main content areas | Expanding | Expanding | Dashboard content, scroll widgets |
| Form inputs | Expanding | Fixed | Text fields, combo boxes |
| Buttons | Fixed | Fixed | Browse buttons, icons |
| Labels | Expanding | Preferred | Descriptions, file info |
| Footers | Expanding | Fixed | Footer bars |
| Sidebars | Preferred | Expanding | Navigation panels |

### Minimum Window Sizes

| Window/Dialog | Min Width | Min Height | Context |
|---------------|-----------|------------|---------|
| Main Window | 1200 px | 800 px | Application minimum |
| Contact Edit Dialog | 500 px | 600 px | Form editing |
| Configuration Dialogs | 400-520 px | 200-360 px | Settings popups |
| Welcome Dialog | 500 px | 350 px | First-run experience |

### Fixed Element Sizes

| Element | Size | Usage |
|---------|------|-------|
| Help buttons | 30×30 px | Form field help icons |
| Navigation step numbers | 35×35 px | Import Wizard sidebar |
| Status icons | 14×14 to 24×24 px | Configuration status indicators |
| Close buttons | 24×24 px | Notification dismissal |
| Metric cards | 220×120 px (Analytics), 280×140 px (AI) | Dashboard cards |

### Standard Margins

| Context | Margins (T,R,B,L) | Usage |
|---------|-------------------|-------|
| **Panel root** | (0,0,0,0) | Main layout containers |
| **Content wrapper** | (20,20,20,20) | Standard content padding |
| **Header** | (20,0,20,0) | Header horizontal padding |
| **Footer** | (20,15,20,15) | Footer internal spacing |
| **Form sections** | (30,30,30,25) | Configuration forms |
| **Card content** | (20,20,20,20) | GroupBox internal spacing |
| **Minimal spacing** | (0,0,0,0) | Path layouts, inner containers |
| **Dialog content** | (12,12,12,12) to (20,20,20,20) | Modal dialog padding |

### Layout Constraints

- **Import Wizard steps**: Use `(30,35,30,30)` margins for section content
- **Scroll areas**: Set `setSizePolicy(Preferred, Expanding)` on container
- **Navigation sidebar**: `(10,15,10,10)` margins with `spacing: 2px`
- **Tab content**: Inherit content wrapper margins `(20,20,20,20)`
- **Modal dialogs**: Apply size constraints with `setSizeConstraint(SetMinimumSize)`

### Spacing Values (Complete)

| Context | Spacing (px) | Implementation |
|---------|--------------|----------------|
| **Root panels** | 0 | `main_layout.setSpacing(0)` |
| **Content sections** | 20 | `content_layout.setSpacing(20)` |
| **Form fields** | 15 | `form_layout.setSpacing(15)` |
| **Sidebar navigation** | 2 | `layout.setSpacing(2)` |
| **Metric grids** | 20 | `metrics_grid.setSpacing(20)` |
| **Sync sections** | 8 | `sync_layout.setSpacing(8)` |
| **Batch controls** | 5 | `batch_text_layout.setSpacing(5)` |
| **Wizard steps** | 15 | `steps_layout.setSpacing(15)` |
| **Info sections** | 2 | `info_layout.setSpacing(2)` |
| **Button groups** | 8 | `button_layout.setSpacing(8)` |
| **Configuration sections** | 12 | `email_layout.setSpacing(12)` |
| **Connectivity test** | 6 | `layout.setSpacing(6)` |
| **Dialog content** | 10 | `layout.setSpacing(10)` |

### Height Constraints (Complete)

| Element | Height | Implementation |
|---------|--------|----------------|
| **All panel headers** | 60 px (fixed) | `header.setFixedHeight(60)` |
| **All footers** | 80 px (fixed) | `footer.setFixedHeight(80)` |
| **Navigation buttons** | 50 px (fixed) | `btn.setFixedHeight(50)` |
| **File path inputs** | 60 px (min) | `file_path_edit.setMinimumHeight(60)` |
| **Browse buttons** | 60 px (min) | `browse_button.setMinimumHeight(60)` |
| **File info labels** | 60 px (min) | `file_info_label.setMinimumHeight(60)` |
| **Batch size spinners** | 45 px (min) | `batch_size_spinner.setMinimumHeight(45)` |
| **Progress bars** | 30 px (min) | `main_progress.setMinimumHeight(30)` |
| **Log areas** | 200 px (min) | `log_area.setMinimumHeight(200)` |
| **Action buttons** | 40 px (min) | `start_button.setMinimumHeight(40)` |
| **Wizard steps** | 75 px (min) | `widget.setMinimumHeight(75)` |
| **Test buttons** | 45 px (min) | `test_button.setMinimumHeight(45)` |
| **Status frames** | 24-28 px | `setMinimumHeight(24)` + `setMaximumHeight(28)` |
| **Result frames** | 30-35 px | `setMinimumHeight(30)` + `setMaximumHeight(35)` |
| **Config sections** | 50-85 px | Various min/max constraints |
| **Tab containers** | 600 px (min) | `tab_widget.setMinimumHeight(600)` |
| **Status text areas** | 250 px (max) | `status_text.setMaximumHeight(250)` |
| **Text displays** | 200 px (max) | `text_display.setMaximumHeight(200)` |

### Width Constraints (Complete)

| Element | Width | Implementation |
|---------|-------|----------------|
| **Navigation sidebar** | 200 px (fixed) | `setFixedWidth(200)` |
| **Browse buttons** | 150 px (min) | `browse_button.setMinimumWidth(150)` |
| **Batch size spinners** | 120 px (min) | `batch_size_spinner.setMinimumWidth(120)` |
| **Progress bars** | 200 px (max) | `progress_bar.setMaximumWidth(200)` |
| **Tooltips** | 300 px (max) | `setMaximumWidth(300)` |
| **Notifications** | 350 px (fixed) | `setFixedWidth(350)` |
| **Performance panels** | 250 px (fixed) | `left_panel.setFixedWidth(250)` |

### Border Radius Specifications

| Element | Radius | Usage |
|---------|--------|-------|
| **Standard cards** | 8 px | GroupBox, buttons, inputs |
| **Large sections** | 10 px | Import Wizard info cards |
| **Small controls** | 4 px | Progress bars, small inputs |
| **Rounded buttons** | 6 px | Action buttons, controls |
| **Circular elements** | 17 px | Step numbers, badges |
| **Sidebar elements** | 12 px | Navigation highlights |
| **Form inputs** | 15 px | Special form fields |
| **Minimal elements** | 3 px | Status frames, small controls |

### Shadow Effects

| Element | Shadow | Usage |
|---------|--------|-------|
| **Modal dialogs** | `box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15)` | Main window overlays |
| **Tooltips** | 20 px blur drop-shadow `(0,5,blur=20, alpha=100)` | Enhanced tooltips |
| **Cards** | `ui.shadow` rgba(0,119,181,0.15) | Subtle card elevation |

---

## 9 · Widget Behavior Specifications

### Cursor States

| Element | Cursor | Implementation |
|---------|--------|----------------|
| **Navigation buttons** | Pointing hand | `btn.setCursor(Qt.CursorShape.PointingHandCursor)` |
| **Clickable elements** | Pointing hand | All interactive buttons, links |
| **Text inputs** | I-beam | Default Qt behavior |
| **Disabled elements** | Default arrow | No cursor override |

### Tooltip Specifications

| Element | Tooltip Text | Usage |
|---------|--------------|-------|
| **Tenant ID Help** | "Azure Portal → Azure Active Directory → Properties → Tenant ID" | Configuration guidance |
| **Client ID Help** | "Azure Portal → App registrations → Your app → Overview → Application ID" | Configuration guidance |
| **Client Secret Help** | "App registration → Certificates & secrets → Client secrets → Value" | Configuration guidance |
| **Organization URL Help** | "Power Platform Admin Center → Environments → Your environment URL" | Configuration guidance |
| **Navigation buttons** | Button description text | `btn.setToolTip(description)` |

### Placeholder Text Specifications

| Field | Placeholder | Context |
|-------|-------------|---------|
| **File path input** | "Click 'Browse...' to select a PST file" | Import Wizard |
| **First name** | "Enter first name..." | Contact forms |
| **Last name** | "Enter last name..." | Contact forms |
| **Full name** | "Auto-generated or custom..." | Contact forms |
| **Job title** | "Enter job title..." | Contact forms |
| **Primary email** | "Primary email address..." | Contact forms |
| **Secondary email** | "Secondary email address..." | Contact forms |
| **Business phone** | "Business phone number..." | Contact forms |
| **Mobile phone** | "Mobile phone number..." | Contact forms |
| **City** | "City..." | Contact forms |
| **State** | "State/Province..." | Contact forms |
| **Country** | "Country..." | Contact forms |
| **Search contacts** | "Search contacts by name, email, or job title..." | Contact management |
| **Tenant ID** | "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" | Configuration |
| **Client ID** | "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" | Configuration |
| **Client Secret** | "Enter client secret..." | Configuration |
| **Organization URL** | "https://your-org.crm.dynamics.com" | Configuration |
| **Feedback text** | "Enter your feedback here..." | Feedback dialog |
| **Email address** | "your.email@example.com" | Feedback dialog |

### Read-Only Field Specifications

| Field | Read-Only | Context |
|-------|-----------|---------|
| **File path input** | Yes | `file_path_edit.setReadOnly(True)` |
| **Log areas** | Yes | `log_area.setReadOnly(True)` |
| **Log displays** | Yes | `log_display.setReadOnly(True)` |
| **Text displays** | Yes | `text_display.setReadOnly(True)` |
| **Manual text** | Yes | `text_edit.setReadOnly(True)` |
| **FAQ text** | Yes | `text_edit.setReadOnly(True)` |

### Default Checkbox States

| Checkbox | Default State | Context |
|----------|---------------|---------|
| **Enable AI** | Checked | `enable_ai_checkbox.setChecked(True)` |
| **Enable ML** | Checked | `enable_ml_checkbox.setChecked(True)` |
| **Smart Optimization** | Checked | `enable_smart_optimization_checkbox.setChecked(True)` |
| **Skip Duplicates** | Checked | `skip_duplicates_checkbox.setChecked(True)` |
| **Preserve Folder Structure** | Checked | `preserve_folder_structure_checkbox.setChecked(True)` |
| **Enable Analytics** | Checked | `enable_analytics_checkbox.setChecked(True)` |
| **Generate Reports** | Checked | `generate_reports_checkbox.setChecked(True)` |
| **Timeline Analysis** | Checked | `timeline_analysis_checkbox.setChecked(True)` |
| **Auto Retry** | Checked | `auto_retry_checkbox.setChecked(True)` |
| **Enable Logging** | Checked | `enable_logging_checkbox.setChecked(True)` |
| **AI Analysis** | Checked | `ai_analysis_checkbox.setChecked(True)` |
| **Pattern Recognition** | Checked | `pattern_recognition_checkbox.setChecked(True)` |
| **Enable Predictions** | Checked | `enable_predictions.setChecked(True)` |
| **Auto Optimize** | Checked | `auto_optimize_check.setChecked(True)` |

### Window Properties

| Window/Dialog | Title | Icon |
|---------------|-------|------|
| **Main Window** | "PST-to-Dynamics 365 - AI-Powered Email Import" | App icon |
| **Welcome Dialog** | "Welcome to PST to Dynamics 365!" | Default |
| **Contact Edit** | "New Contact" / "Edit Contact" | Default |
| **Help Dialogs** | "Help: {title}" | Information icon |
| **Connection Test** | "🔍 Connection Test Results" | Default |
| **Progress Dialog** | "🔗 Testing Connection" | Default |
| **AI Training** | "🧠 Train AI Models" | Default |
| **User Manual** | "User Manual" | Default |
| **FAQ Dialog** | "Frequently Asked Questions" | Default |
| **Feedback Dialog** | "Send Feedback" | Default |

### Modal Dialog Properties

| Dialog | Modal | Window Flags | Size Constraints |
|--------|-------|--------------|------------------|
| **Contact Edit** | Yes | Default | Default |
| **Connection Test** | Yes | Dialog + TitleHint + CloseButton | Min: 500×320, Max: 600×380, Default: 520×340 |
| **Progress Dialog** | Yes | Dialog + TitleHint | Min: 400×200, Max: 500×250, Default: 450×220 |
| **Complete Test Results** | Yes | Dialog + TitleHint + CloseButton | Min: 520×360, Max: 620×420, Default: 560×380 |
| **AI Training** | Yes | Default | Default |
| **Splash Screen** | No | SplashScreen + StaysOnTop | Default |

### Window Sizing Specifications

| Window/Dialog | Default Size | Minimum Size | Maximum Size |
|---------------|--------------|--------------|--------------|
| **Main Window** | Default | 1200×800 | None |
| **Welcome Dialog** | Default | 500×350 | None |
| **Import Wizard** | 1000×700 | None | None |
| **Analytics Dashboard** | 1200×800 | None | None |
| **Contact Management** | Default | 1200×800 | None |
| **AI Intelligence** | Default | 1200×800 | None |
| **Sync Monitoring** | Default | 1200×800 | None |
| **Configuration Manager** | 1000×800 | None | None |
| **User Manual** | Default | 600×400 | None |
| **FAQ Dialog** | Default | 600×400 | None |
| **Feedback Dialog** | Default | 500×400 | None |

### Font Specifications (Complete)

| Element | Font Family | Size | Weight | Context |
|---------|-------------|------|--------|---------|
| **Panel headers** | Segoe UI | 16 px | Bold | All dashboard headers |
| **Section headers** | Segoe UI | 14 px | Bold | Contact form sections |
| **GroupBox titles** | Segoe UI | 12 px | Bold | All grouped sections |
| **Welcome title** | Segoe UI | 16 px | Bold | Welcome dialog |
| **Auth title** | Segoe UI | 18 px | Bold | Authentication widget |
| **Wizard titles** | Segoe UI | 16 px | Bold | Import Wizard steps |
| **Wizard descriptions** | Segoe UI | 11 px | Regular | Import Wizard descriptions |
| **Progress labels** | Segoe UI | 10 px | Medium | Progress sections |
| **Status labels** | Segoe UI | 11 px | Regular | Status displays |
| **Log sections** | Segoe UI | 10 px | Medium | Log group headers |
| **Step numbers** | Segoe UI | 14 px | Bold | Wizard step numbers |
| **Step titles** | Segoe UI | 10 px | Bold | Wizard step titles |
| **Step descriptions** | Segoe UI | 9 px | Regular | Wizard step descriptions |
| **Metric icons** | Segoe UI Emoji | 24 px | Regular | Dashboard metric icons |
| **Metric values** | Segoe UI | 20 px | Bold | Dashboard metric values |
| **Dialog titles** | Segoe UI | 11-12 px | Bold | Dialog headers |
| **Dialog disclaimers** | Segoe UI | 7 px | Regular | Small disclaimers |
| **Status icons** | Segoe UI | 12 px | Bold | Status indicator text |
| **Status text** | Segoe UI | 8-9 px | Bold | Status descriptions |
| **Instructions** | Segoe UI | 10 px | Regular | Help text |

### Spinner & Slider Value Ranges

| Control | Minimum | Maximum | Default | Context |
|---------|---------|---------|---------|---------|
| **Batch Size** | 10 | 1000 | 100 | Import Wizard |
| **Confidence Bar** | 0 | 100 | Dynamic | AI Intelligence |
| **Batch Size (AI)** | 5 | 500 | 50 | AI optimization |
| **CPU Threshold** | 50 | 100 | 90 | Performance monitoring |
| **Memory Threshold** | 50 | 100 | 80 | Performance monitoring |
| **Forecast Days** | 7 | 365 | 30 | AI predictions |
| **Memory Bar** | 0 | 512 | Dynamic | Performance display (MB) |
| **CPU Bar** | 0 | 100 | Dynamic | Performance display (%) |
| **Progress Bars** | 0 | 100 | 0 | All progress indicators |

### Size Constraint Specifications

| Layout | Constraint | Usage |
|--------|------------|-------|
| **Dialog layouts** | SetMinimumSize | `layout.setSizeConstraint(QVBoxLayout.SizeConstraint.SetMinimumSize)` |
| **Status layouts** | SetMinimumSize | `layout.setSizeConstraint(QHBoxLayout.SizeConstraint.SetMinimumSize)` |
| **Icon sizes** | Fixed min/max | Status icons: 14×14, 16×16, 20×20, 24×24 |
| **Button sizes** | Fixed min/max | Close buttons: 50×20 to 80×28 |

---

## 10 · Menu System & Navigation

### Menu Bar Structure

| Menu | Items | Shortcuts | Actions |
|------|-------|-----------|---------|
| **File** | New Import | Ctrl+N | Navigate to Import Wizard |
| | *Separator* | | |
| | Exit | Ctrl+Q | Close application |
| **View** | Dashboard | None | Navigate to Dashboard |
| | Analytics | None | Navigate to Analytics |
| | Contacts | None | Navigate to Contacts |
| | Sync Monitor | None | Navigate to Sync Monitor |
| **Tools** | Settings | Ctrl+, | Navigate to Settings |
| **Help** | Welcome | None | Show Welcome Dialog |
| | User Manual | None | Show User Manual |
| | FAQ | None | Show FAQ Dialog |
| | Send Feedback | None | Show Feedback Dialog |
| | *Separator* | | |
| | About | None | Show About Dialog |

### Menu Bar Styling

```css
QMenuBar {
    background-color: #FFFFFF;            /* ui.surface */
    color: #2C3E50;                       /* text.primary */
    border-bottom: 1px solid #D0D7DE;     /* ui.border */
    font-size: 14px;
    padding: 4px 8px;
}
QMenuBar::item {
    background: transparent;
    padding: 8px 16px;
    border-radius: 4px;
}
QMenuBar::item:selected {
    background-color: #0077B5;            /* brand.primary */
    color: #FFFFFF;                       /* text.inverse */
}
QMenuBar::item:pressed {
    background-color: #005885;            /* brand.primaryHover */
}
```

### Drop-down Menu Styling

```css
QMenu {
    background-color: #FFFFFF;            /* ui.surface */
    color: #2C3E50;                       /* text.primary */
    border: 1px solid #D0D7DE;            /* ui.border */
    border-radius: 8px;
    padding: 4px 0px;
    font-size: 14px;
}
QMenu::item {
    background: transparent;
    padding: 8px 24px;
    border: none;
}
QMenu::item:selected {
    background-color: #0077B5;            /* brand.primary */
    color: #FFFFFF;                       /* text.inverse */
}
QMenu::separator {
    height: 1px;
    background: #D0D7DE;                  /* ui.border */
    margin: 4px 0px;
}
```

### Keyboard Shortcuts

| Shortcut | Action | Context |
|----------|--------|---------|
| **Ctrl+N** | New Import | Global - opens Import Wizard |
| **Ctrl+Q** | Exit Application | Global - closes application |
| **Ctrl+,** | Settings | Global - opens Configuration Manager |

### Navigation Sidebar

| Button | Icon | Title | Description |
|--------|------|-------|-------------|
| **Dashboard** | 📊 | Dashboard | Overview and system status |
| **Import** | 📧 | Import | PST file import wizard |
| **Analytics** | 📈 | Analytics | Import statistics and insights |
| **AI Intelligence** | 🤖 | AI Intelligence | Machine learning and optimization |
| **Contacts** | 👥 | Contacts | Contact management and editing |
| **Sync Monitor** | 🔄 | Sync Monitor | Real-time synchronization monitoring |
| **Settings** | ⚙️ | Settings | Configuration and preferences |

### Status Bar Components

| Component | Position | Styling | Content |
|-----------|----------|---------|---------|
| **Status Message** | Left | Default text color | "Ready" (default) |
| **Progress Bar** | Right (permanent) | Max width: 200px, hidden by default | Import/sync progress |
| **Version Label** | Right (permanent) | `color: #6c757d; font-size: 10px;` | "v1.0.0" |

### About Dialog Content

```
PST to Dynamics 365
Version: 1.0.0
Company: Dynamique Solutions

A professional desktop application for importing, synchronizing, and managing 
contacts and emails between PST files and Microsoft Dynamics 365.

Features:
• Advanced sync engine with conflict resolution
• AI-powered analytics and insights  
• Professional monitoring dashboard
• Comprehensive contact management

Built with PyQt6 and modern design principles.
```

---

## 11 · Advanced Behavior & Event Handling

### Window State Management

| Method | Override Behavior | Purpose |
|--------|-------------------|---------|
| **showMaximized()** | Custom override with Voice Access gap elimination | Prevents UI layout issues when maximized |
| **showEvent()** | Skip repositioning when maximized | Maintains proper layout on window show |
| **changeEvent()** | Handle window state changes | Responds to minimize/maximize events |
| **closeEvent()** | Custom cleanup in dashboards | Proper resource cleanup on window close |

### Event Handling Specifications

| Event Type | Components | Implementation |
|------------|------------|----------------|
| **resizeEvent** | Configuration Manager | `super().resizeEvent(event)` - standard handling |
| **closeEvent** | All dashboards | Custom cleanup + `super().closeEvent(event)` |
| **showEvent** | Main Window | Skip repositioning if maximized state |
| **changeEvent** | Main Window | Handle window state transitions |

### Timer Usage Specifications

| Timer Type | Duration | Usage | Context |
|------------|----------|-------|---------|
| **SingleShot delays** | 50-100ms | Layout positioning, widget setup | `QTimer.singleShot(100, callback)` |
| **Welcome dialog delay** | 1000ms | First-run welcome display | `QTimer.singleShot(1000, show_welcome)` |
| **Notification delays** | 1000ms | Safe theme notifications | `QTimer.singleShot(1000, notify)` |
| **Update timers** | Continuous | Dashboard refresh, monitoring | `QTimer()` with `timeout.connect()` |

### Animation Specifications

| Animation | Duration | Easing | Properties |
|-----------|----------|--------|------------|
| **Tooltip fade-in** | 200ms | OutQuart | Opacity: 0.0 → 1.0 |
| **AI confidence slide** | 200ms | OutCubic | Geometry animation |
| **Notification slide-in** | 400ms | OutBack | Position: +100px → final |
| **Notification fade-in** | 400ms | Linear | Opacity: 0.0 → 1.0 |
| **Notification slide-out** | 300ms | InQuart | Position: final → +100px |
| **Notification fade-out** | 300ms | Linear | Opacity: 1.0 → 0.0 |
| **Stack repositioning** | 300ms | OutQuart | Position adjustments |

### Threading Architecture

| Thread Class | Purpose | Signals | Lifecycle |
|--------------|---------|---------|-----------|
| **SystemStatusMonitor** | Background system monitoring | `status_updated(str, str)` | Continuous |
| **ImportProgressThread** | Import operation progress | Progress signals | Task-based |
| **ContactDataLoader** | Contact data loading | Data ready signals | On-demand |
| **ConnectivityTestThread** | Network connectivity testing | Test result signals | On-demand |
| **ConfigurationTestThread** | Configuration validation | Validation signals | On-demand |
| **AnalyticsDataLoader** | Analytics data processing | Data ready signals | Periodic |
| **AIDataLoader** | AI model data loading | Model ready signals | On-demand |

### Thread Management Rules

| Rule | Implementation | Purpose |
|------|----------------|---------|
| **Registration** | All threads registered with ThreadManager | Memory leak prevention |
| **Cleanup timeout** | 5000ms default for thread termination | Prevent hanging processes |
| **Weak references** | Use weak refs for thread tracking | Avoid circular references |
| **Graceful shutdown** | `quit()` then `wait()` with timeout | Clean application exit |

### Window Flags Specifications

| Dialog Type | Flags | Purpose |
|-------------|-------|---------|
| **Standard dialogs** | Default | Standard dialog behavior |
| **Connection Test** | Dialog + TitleHint + CloseButton | Modal with close control |
| **Progress Dialog** | Dialog + TitleHint | Modal without close button |
| **Splash Screen** | SplashScreen + StaysOnTop | Startup display |

### Performance Optimizations

| Optimization | Implementation | Context |
|--------------|----------------|---------|
| **Delayed initialization** | 100ms delays for complex widgets | Smooth startup |
| **Background loading** | QThread for data operations | Responsive UI |
| **Timer consolidation** | Single-shot timers for related operations | Reduced overhead |
| **Event batching** | Batch similar events together | Improved performance |

---

## 12 · ThemeManager Integration

### Global QPalette Mapping

| QPalette Role | Color Token | Source |
|---------------|------------|--------|
| `Window` | `ui.canvas` | Main app window background |
| `WindowText` | `text.primary` | Default window text |
| `Base` | `ui.surface` | Card and input backgrounds |
| `AlternateBase` | `ui.border` | Table gridlines / alternates |
| `ToolTipBase` | `ui.surface` | Tooltip background |
| `ToolTipText` | `text.primary` | Tooltip text |
| `Text` | `text.primary` | Default control text |
| `Button` | `ui.surface` | Button background |
| `ButtonText` | `text.primary` | Button text |
| `BrightText` | `state.error` | Error text (alerts) |
| `Link` | `brand.primary` | Hyperlinks |
| `Highlight` | `brand.primary` | Selection background |
| `HighlightedText` | `ui.surface` | Selection text |

`ThemeManager.apply_global_palette(app)` sets the palette using these roles when the application starts. All colour tokens defined in Section 1 are therefore consumable both in CSS and in Qt palette roles.

### Theme Change Signal

| Signal | Arguments | Emitted When | Subscribers |
|--------|-----------|--------------|-------------|
| `theme_changed` | `str theme_name` | `ThemeManager.set_theme()` successfully applies a new theme | Any widget registered via `ThemeManager.register_widget()` implementing `apply_theme()` |

Widgets should implement `apply_theme(theme_definition)` to receive live updates. **Do not** set static colours inside widget code; always consult the current theme definition for dynamic adaptability.

---

## 13 · Accessibility & Internationalization

### Keyboard Navigation System

The application includes a comprehensive `KeyboardNavigationManager` to ensure full UI control without a mouse.

| Feature | Description |
|---------|-------------|
| **Navigation Groups** | Widgets are registered into logical groups (e.g., 'main', 'contacts'). |
| **Group Switching** | Users can switch between groups using `Ctrl+1`, `Ctrl+2`, etc. |
| **In-Group Navigation** | `Tab`/`Shift+Tab` and **Arrow Keys** (`Up`/`Down`/`Left`/`Right`) navigate between widgets within the active group. |
| **Focus Indicator** | A vivid blue focus frame (see Section 4.23) clearly highlights the currently focused widget. |
| **Focus Management** | `Escape` key clears the current focus. |

#### Global Keyboard Shortcuts (Managed by KeyboardNavigationManager)

| Shortcut | Action |
|----------|--------|
| `Tab` / `Shift+Tab` | Navigate next/previous in group |
| Arrow Keys | Navigate next/previous in group |
| `Ctrl+1` through `Ctrl+4` | Switch to navigation groups 1-4 |
| `Ctrl+H` / `F1` | Trigger 'help' action |
| `Ctrl+T` | Trigger 'theme_toggle' action |
| `F11` | Trigger 'fullscreen' action |
| `Escape` | Clear current navigation focus |

### Accessibility Features (`AccessibilityManager`)

The application is architected to support accessibility enhancements. The `AccessibilityManager` provides hooks for these features, although they are currently implemented as stubs.

| Feature | Status | Description |
|---------|--------|-------------|
| **High Contrast Mode** | Architected | A high-contrast theme is defined (`ThemeType.HIGH_CONTRAST`). |
| **Large Text Mode** | Stub | `enable_large_text()` method exists for future implementation. |
| **Screen Reader Support** | Stub | `enable_screen_reader()` method exists for future ARIA integration. |

### Internationalization (i18n)

The application is currently **not** localized. All user-facing strings are hard-coded in English. The code does not use Qt's `tr()` function for translation. Future internationalization would require wrapping all strings in `tr()`.

### Input Validation & Masks

The application currently uses placeholder text to guide user input rather than explicit `QValidator` or `setInputMask` rules. All form validation is handled at the logic/model layer upon submission.

*End of specification.* 